<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Criterios de Evaluación</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/criteriosadmin.css') }}">
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

</head>
<body class="bg-gray-100 font-sans">

    <header>
        <section class="header-admin">
            <div class="contenedor-1">
                <img class="logo-sena" src="/static/images/Logo Sena 1.png" alt="Logo Sena">
                <a href="">EventSoft</a>
            </div>
            <div class="contenedor-2">
                <img class="img-user" src="/static/images/user.png" alt="user">
                <a href="#">{{ evaluador_nombre }}</a>
            </div>
        </section>
    </header>
<div class="container mt-5">
    <!-- Botón para volver al evaluador -->
    <div class="mt-3">
        <a href="{{ url_for('evaluador.evaluador') }}" class=" btn btn-danger">Volver al Evaluador</a>
    </div>
    <h2 class="mb-4">Criterios de Evaluación</h2>

    <!-- Alerta de Información -->
    <div class="alert alert-info" role="alert">
        <strong>Nota:</strong> Los criterios de evaluación son fundamentales para la calificación de los participantes. Asegúrate de que sean claros y justos.
    
        <!-- Formulario para agregar nuevo criterio -->
        <form id="form-criterios" method="POST">
            <div class="mb-3">
                <label for="nuevo_criterio" class="form-label">Nuevo Criterio:</label>
                <div class="input-grupos">
                    <input type="text" class="form-control" name="criterio" placeholder="Descripción" required>
                    <input type="number" class="form-control_porcentaje" name="porcentaje" placeholder="%" min="0" max="100" required>
                    <input type="hidden" name="evento_id" value="{{ evento_actual.id }}">  <!-- Campo oculto para el evento -->
                    <button type="submit" class="btn btn-success">Agregar</button>
                </div>
            </div>
        </form>
    </div>
    

    <!-- Porcentaje total -->
    <div id="total-porcentaje" class="alert alert-secondary">
        Porcentaje total: <span id="porcentaje-total">0</span>%
    </div>

    <!-- Tabla de criterios -->
    <table class="table table-bordered" id="tabla-criterios">
        <thead class="table-dark">
            <tr>
                <th>Descripción</th>
                <th>Porcentaje</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for criterio in criterios %}
            <tr data-id="{{ criterio.id }}">
                <td class="criterios-tr">
                    <input type="text" value="{{ criterio.descripcion }}" class="form-control" disabled>
                </td>
                <td class="columna-porcentaje">
                    <input type="number" class="porcentaje-existente form-control" value="{{ criterio.peso }}" disabled>
                </td>
                <td class="acciones">
                    <button class="btn btn-primary btn-modificar">Modificar</button>
                    <button class="btn btn-danger btn-eliminar">Eliminar</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    
</div>

<!-- Scripts -->
<script src="/static/js/criteriosevaluador.js"></script>

</body>
</html>
