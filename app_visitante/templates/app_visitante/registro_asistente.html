{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Registro de Asistentes</title>
    <link rel="stylesheet" href="{% static 'app_visitante/css/styles_parti.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        /* SOLO TEXTO */
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        a,
        button,
        input,
        label,
        span,
        div {
            font-family: 'Work Sans', sans-serif !important;
        }
    
        </style>

</head>

<body>
    <header class="header">
        <div class="user-section">
            <a href="{% url 'detalle_evento' evento.id %}" class="btn-volver"><i class="fas fa-arrow-left"></i> Volver</a>
        </div>
        <div class="header-content">
            <h1 class="brand">Registro Asistente</h1>
        </div>   
    </header>

    <main class="form-container">

        <form action="{% url 'registrar_asistente' evento_id=evento.id %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <h2><i class="fas fa-edit"></i> Registro de Asistente</h2>

            <label for="asi_id"><i class="fas fa-id-card"></i> Número de Identificación:</label>
            <input type="text" id="asi_id" name="numero_identificacion" required>

            <input type="hidden" id="eve_id" name="eve_id" value="{{ evento }}">

            <label for="asi_nombre"><i class="fas fa-user"></i> Nombre completo:</label>
            <input type="text" id="asi_nombre" name="nombre" required>

            <label for="asi_correo"><i class="fas fa-envelope"></i> Correo electrónico:</label>
            <input type="email" id="asi_correo" name="correo" required>

            <label for="asi_telefono"><i class="fas fa-phone"></i> Teléfono:</label>
            <input type="text" id="asi_telefono" name="telefono" required>

            {% if evento.eve_tienecosto == True %}
            <label for="comprobante_pago" class="file-label">
                <i class="fas fa-file-upload"></i> Comprobante de pago:
            </label>
            <input type="file" id="comprobante_pago" name="comprobante_pago" accept=".pdf,.png,.jpg,.jpeg" required>
            {% endif %}

            <button type="submit"><i class="fas fa-save"></i> Guardar Registro</button>
        </form>
    </main>
<script>
    const comprobanteInput = document.getElementById("comprobante_pago");

    if (comprobanteInput) {
        const fileNameDisplay = document.createElement("div");
        fileNameDisplay.className = "file-name";
        comprobanteInput.parentNode.insertBefore(fileNameDisplay, comprobanteInput.nextSibling);

        comprobanteInput.addEventListener("change", function () {
            const fileName = this.files.length > 0 ? this.files[0].name : "Ningún archivo seleccionado";
            fileNameDisplay.textContent = `Archivo seleccionado: ${fileName}`;
        });
    }

</script>

</body>
</html>
